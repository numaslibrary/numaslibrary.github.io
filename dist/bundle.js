!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=5)}([function(t,e){const r={u8:Uint8Array,u16:Uint16Array,i32:Int32Array,u32:Uint32Array,f32:Float32Array,f64:Float64Array};t.exports={DATATYPES:r}},function(t,e){const r=[];t.exports={buildModule:t=>{const e={memory:t.instance.exports.memory,functions:t.instance.exports};for(callback of r)callback(e)},addCallback:t=>{r.push(t)}}},function(t,e,r){const n=r(0).DATATYPES;class o{constructor(t){this.wasmModule=t}createShape(t){const e=t.length,r=this.wasmModule.functions.instantiate_vector_i32(e);let n=new Int32Array(this.wasmModule.memory.buffer,r,1);return(n=new Int32Array(this.wasmModule.memory.buffer,n[0],e)).set(t,0),r}vectorToArray(t,e,r="i32"){let o=new Int32Array(this.wasmModule.memory.buffer,t,3);const s=(o=new n[r](this.wasmModule.memory.buffer,o[0],e)).slice();return this.wasmModule.functions[`free_vector_${r}`](t),s}getVectorLength(t){return new Int32Array(this.wasmModule.memory.buffer,t,3)[2]}createIndices(t){const e=[];for(let r of t)if(Number.isInteger(r))e.push(r),e.push(0);else{if(!(Array.isArray(r)&&2===r.length&&Number.isInteger(r[0])&&Number.isInteger(r[1])))throw"Indices must contain either number or array with two numbers";e.push(r[0]),e.push(r[1])}const r=e.length,n=this.wasmModule.functions.instantiate_vector_usize(r);let o=new Int32Array(this.wasmModule.memory.buffer,n,1);return(o=new Int32Array(this.wasmModule.memory.buffer,o[0],r)).set(e,0),n}createVector(t,e){const r=t.length,o=this.wasmModule.functions[`instantiate_vector_${e}`](r);let s=new Int32Array(this.wasmModule.memory.buffer,o,1);return(s=new n[e](this.wasmModule.memory.buffer,s[0],r)).set(t,0),o}}let s=null;t.exports={createHelper:t=>s=new o(t),getHelper:()=>s}},function(t,e,r){const n=r(0).DATATYPES,o=r(15),s=r(2),i=r(4);class p{constructor(t,e){if(!n.hasOwnProperty(e))throw"Invalid datatype provided";this.pointer=t,this.type=e,this.prototype=o.getPrototype(e),i.addArray(this)}static new(t,e,r="i32"){if(!n.hasOwnProperty(type))throw"Invalid datatype provided";const i=s.getHelper(),a=i.createShape(e),u=i.createVector(t,r),h=o.getPrototype(r).new(u,a);return new p(h,r)}reshape(t){const e=s.getHelper().createShape(t);return this.prototype.reshape(this.pointer,e),this}shape(){const t=s.getHelper(),e=this.prototype.shape(this.pointer),r=t.getVectorLength(e);return t.vectorToArray(e,r,"i32")}collect(){const t=s.getHelper(),e=this.prototype.collect(this.pointer),r=this.prototype.len(this.pointer);return t.vectorToArray(e,r,this.type)}get(t){const e=s.getHelper().createIndices(t),r=this.prototype.get(this.pointer,e);return new p(r,this.type)}set(t,e){const r=s.getHelper().createIndices(e);this.prototype.set(this.pointer,r,t)}free(){return i.removeArray(this),this.prototype.free(this.pointer)}type(){return this.type}len(){return this.prototype.len(this.pointer)}baseLen(){return this.prototype.baseLen(this.pointer)}clone(){return new p(this.prototype.clone(this.pointer),this.type)}view(){return new p(this.prototype.view(this.pointer),this.type)}add(t){return new p(this.prototype.add(this.pointer,t.pointer),this.type)}addAssign(t){return this.prototype.addAssign(this.pointer,t.pointer),this}sub(t){return new p(this.prototype.sub(this.pointer,t.pointer),this.type)}subAssign(t){return this.prototype.subAssign(this.pointer,t.pointer),this}mul(t){return new p(this.prototype.mul(this.pointer,t.pointer),this.type)}mulAssign(t){return this.prototype.mulAssign(this.pointer,t.pointer),this}div(t){return new p(this.prototype.div(this.pointer,t.pointer),this.type)}divAssign(t){return this.prototype.divAssign(this.pointer,t.pointer),this}eq(t){return new p(this.prototype.eq(this.pointer,t.pointer),"u8")}neq(t){return new p(this.prototype.neq(this.pointer,t.pointer),"u8")}lt(t){return new p(this.prototype.lt(this.pointer,t.pointer),"u8")}gt(t){return new p(this.prototype.gt(this.pointer,t.pointer),"u8")}le(t){return new p(this.prototype.le(this.pointer,t.pointer),"u8")}ge(t){return new p(this.prototype.le(this.pointer,t.pointer),"u8")}sin(){return new p(this.prototype.sin(this.pointer),"f64")}cos(){return new p(this.prototype.cos(this.pointer),"f64")}tan(){return new p(this.prototype.tan(this.pointer),"f64")}arcsin(){return new p(this.prototype.arcsin(this.pointer),"f64")}arccos(){return new p(this.prototype.arccos(this.pointer),"f64")}arctan(){return new p(this.prototype.arctan(this.pointer),"f64")}degrees(){return new p(this.prototype.degrees(this.pointer),"f64")}radians(){return new p(this.prototype.radians(this.pointer),"f64")}rad2deg(){return new p(this.prototype.degrees(this.pointer),"f64")}deg2rad(){return new p(this.prototype.radians(this.pointer),"f64")}sqrt(){return new p(this.prototype.sqrt(this.pointer),"f64")}loge(){return new p(this.prototype.loge(this.pointer),"f64")}log2(){return new p(this.prototype.log2(this.pointer),"f64")}log10(){return new p(this.prototype.log10(this.pointer),"f64")}log(t){return new p(this.prototype.log(this.pointer,t),"f64")}sum(){return this.prototype.sum(this.pointer)}prod(){return this.prototype.prod(this.pointer)}round(t){return new p(this.prototype.round(this.pointer,t),"f64")}floor(t){return new p(this.prototype.floor(this.pointer,t),"f64")}ceil(t){return new p(this.prototype.ceil(this.pointer,t),"f64")}trunc(t){return new p(this.prototype.trunc(this.pointer,t),"f64")}sinh(){return new p(this.prototype.sinh(this.pointer),"f64")}cosh(){return new p(this.prototype.cosh(this.pointer),"f64")}tanh(){return new p(this.prototype.tanh(this.pointer),"f64")}arcsinh(){return new p(this.prototype.arcsinh(this.pointer),"f64")}arccosh(){return new p(this.prototype.arccosh(this.pointer),"f64")}arctanh(){return new p(this.prototype.arctanh(this.pointer),"f64")}}t.exports=p},function(t,e){let r=[[]],n=0;const o=t=>{for(;0!==r[t].length;){let e=r[t].pop();console.log(e.pointer),e.free()}};t.exports={startCheckpoint:()=>(n++,Array.isArray(r[n])||(r[n]=[]),n),endCheckpoint:(t=!0)=>{t&&o(n),n=0},getCurrentCheckpoint:()=>n,freeCheckpoint:o,freeCurrentCheckpoint:()=>o(n),addArray:t=>r[n].push(t),removeArray:t=>{for(let e in r)for(let n in r[e])if(r[e][n]===t)return void r[e].slice(n,1)}}},function(t,e,r){const{init:n,numas:o,loaders:s}=r(6);n(()=>{window.numas=o,console.log("numas is ready to be used")},{loader:s.browserLoader.loadAsync,path:"./assets/numas/numas.wasm"})},function(t,e,r){const n=r(7),o=r(11),s=r(1),i=r(13),p={instancer:o.classicInstancer,loader:n.nodeLoader.loadAsync,path:"./node_modules/numas.wasm/numas.wasm"};t.exports={numas:i,init:(t,e={})=>{const{instancer:r,loader:n,path:o}={...p,...e};s.addCallback(t),r.instantiate(n(o)).then(s.buildModule)},config:{defaultNode:p},loaders:n,instancers:o}},function(t,e,r){const n=r(8),o=r(10);t.exports={nodeLoader:n,browserLoader:o}},function(t,e,r){const n=r(9),o={loadAsync:t=>()=>new Promise((e,r)=>{n.readFile(t,(t,n)=>t?r(t):e(n))}),loadSync:t=>()=>new Promise(e=>{e(n.readFileSync(t))})};t.exports=o},function(t,e){},function(t,e){const r={loadAsync:t=>()=>new Promise(e=>fetch(t).then(t=>e(t.arrayBuffer())))};t.exports=r},function(t,e,r){const n=r(12);t.exports={classicInstancer:n}},function(t,e){t.exports={instantiate:t=>new Promise((e,r)=>{t().then(t=>{const n={memoryBase:0,tableBase:0,memory:new WebAssembly.Memory({initial:256}),table:new WebAssembly.Table({initial:0,element:"anyfunc"})};let o=new Uint8Array(t);WebAssembly.instantiate(o,{env:n}).then(t=>e(t)).catch(t=>r(t))})})}},function(t,e,r){const n=r(1),o=r(2),s=r(14),i=r(3);let p={helper:{},factory:{},NDArray:{},cleaner:r(4)};n.addCallback(t=>{p.helper=o.createHelper(t),p.factory=new s(t,p),p.NDArray=i}),t.exports=p},function(t,e,r){const n=r(0),o=r(3);t.exports=class{constructor(t,e){const r=["ones","zeros","full"];this.numas=e,this.functions={};for(let t in n.DATATYPES)this.functions[t]={};for(let e of r)for(let r in n.DATATYPES)this.functions[r][e]=t.functions[e+"_"+r];this.wasmModule=t.functions}ones(t,e="i32"){return new o(this.functions[e].ones(this.numas.helper.createShape(t)),e)}logspace(t,e,r,n){return new o(this.wasmModule.logspace(t,e,r,n),"f64")}linspace(t,e,r){return new o(this.wasmModule.linspace(t,e,r),"f64")}arange(t,e,r){return new o(this.wasmModule.arange(t,e,r),"f64")}zeros(t,e="i32"){return new o(this.functions[e].zeros(this.numas.helper.createShape(t)),e)}zeroes(t,e="i32"){return new o(this.functions[e].zeros(this.numas.helper.createShape(t)),e)}full(t,e,r="i32"){return new o(this.functions[r].full(t,this.numas.helper.createShape(e)),r)}}},function(t,e,r){const n=r(1),o=r(0),s=["sqrt","sum","prod","loge","log","log2","log10","round","ceil","floor","trunc","get","set","collect","free","len","clone","view","new","baseLen","shape","reshape","add","addAssign","sub","subAssign","mul","mulAssign","div","divAssign","eq","neq","le","lt","ge","gt","sin","cos","tan","arcsin","arccos","arctan","degrees","radians","sinh","cosh","tanh","arcsinh","arccosh","arctanh"],i={};for(type in o.DATATYPES)i[type]={};n.addCallback(t=>{let e=t.functions;for(type in o.DATATYPES)for(fn of s)i[type][fn]=e[fn+"_"+type]});t.exports={getPrototype:t=>i[t]}}]);